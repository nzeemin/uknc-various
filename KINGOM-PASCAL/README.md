# KINGOM-PASCAL Восстановленный исходник "Королевство Эйфория" на Паскале

Здесь лежат PAS-файлы - это восстановленный исходник игры, которая называлась "Королевство Эйфория"
(файл игры обычно назывался KINGOM.SAV).
Это текстовая игра в жанре экономической стратегии.

Игра написана на Паскале ДВК (OMSI Pascal 1) и предназначалась для советских PDP11-совместимых машин - таких как ДВК и УКНЦ.

## Реверс

Сначала был восстановлен код игры в виде файла на MACRO-11 - см. [KINGOM.MAC](https://github.com/nzeemin/uknc-various/blob/master/KINGOM/KINGOM.MAC), до компиляции байт-в-байт.
Затем уже из ассемблера был восстановлен исходник на Паскале.

Спасибо участникам форума zx-pk.ru за помощь и поддержку в процессе восстановления!

## Сборка из исходников

Последовательность сборки (см. <code>!compilelink.bat</code>):
 - <code>@CPAS</code> - командным файлом <code>CPAS.COM</code> собираются отдельные PAS-файлы, получаем MAC-файлы на языке MACRO-11
 - <code>@CMACRO</code> - командным файлом <code>CMACRO.COM</code> собираются MAC-файлы, получаются объектные файлы
 - <code>@CLINK</code> - командным файлом <code>CLINK.COM</code> выполняется компоновка, получается исполнимый SAV-файл

Полученный SAV-файл имеет следующие отличия от оригинала:
<pre>
00000028: 0E 10 - это в заголовке различие в длине на слово, возможно, из-за другой версии компилятора или линковщика
00004824: 5F 0E - это символ переключениия на русский в КОИ7 я заменил на "_"
00004A80: 5F 0E - то же
</pre>
